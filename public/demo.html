<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rev - Voice Demo</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <style>
    .demo-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      padding: 30px;
      margin: 20px 0;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .voice-test {
      display: flex;
      gap: 15px;
      align-items: center;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .test-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 12px 24px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .test-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
    }

    .voice-info {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
    }

    .voice-info h3 {
      color: #667eea;
      margin-bottom: 15px;
    }

    .voice-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .voice-item {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 15px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .voice-name {
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 5px;
    }

    .voice-lang {
      font-size: 0.8rem;
      color: #a0a0a0;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.08);
    }

    .feature-card i {
      font-size: 2.5rem;
      color: #667eea;
      margin-bottom: 15px;
    }

    .feature-card h3 {
      color: #ffffff;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .feature-card p {
      color: #b0b0b0;
      font-size: 0.9rem;
      line-height: 1.5;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Background Elements -->
    <div class="background-elements">
      <div class="floating-circle circle-1"></div>
      <div class="floating-circle circle-2"></div>
      <div class="floating-circle circle-3"></div>
    </div>

    <!-- Header -->
    <div class="header">
      <div class="logo">
        <i class="fas fa-bolt"></i>
        <span>Revolt Motors</span>
      </div>
      <div class="tagline">Voice AI Demo - Natural Conversations</div>
    </div>

    <!-- Demo Content -->
    <div class="main-content">
      <!-- Voice Test Section -->
      <div class="demo-section">
        <h2 style="color: #667eea; margin-bottom: 20px; text-align: center;">
          <i class="fas fa-microphone"></i> Voice Quality Demo
        </h2>

        <div class="voice-test">
          <button class="test-btn" onclick="testVoice('Hello! I\'m Rev from Revolt Motors. How can I help you today?')">
            <i class="fas fa-play"></i> Test Welcome
          </button>

          <button class="test-btn"
            onclick="testVoice('Electric motorcycles are really amazing, you know? They\'re so much more efficient than traditional bikes.')">
            <i class="fas fa-play"></i> Test Natural Speech
          </button>

          <button class="test-btn"
            onclick="testVoice('Well, basically, our technology is actually quite revolutionary. I mean, we\'re really pushing the boundaries here.')">
            <i class="fas fa-play"></i> Test Conversational
          </button>
        </div>

        <p style="color: #b0b0b0; text-align: center; margin-top: 20px;">
          Click any button above to hear the improved voice quality with natural speech patterns
        </p>
      </div>

      <!-- Voice Features -->
      <div class="feature-grid">
        <div class="feature-card">
          <i class="fas fa-brain"></i>
          <h3>Smart Voice Selection</h3>
          <p>Automatically selects the best available voice for natural sound quality</p>
        </div>

        <div class="feature-card">
          <i class="fas fa-pause"></i>
          <h3>Natural Pauses</h3>
          <p>Adds natural pauses and emphasis for human-like speech flow</p>
        </div>

        <div class="feature-card">
          <i class="fas fa-sliders-h"></i>
          <h3>Optimized Settings</h3>
          <p>Fine-tuned rate, pitch, and volume for the most natural sound</p>
        </div>

        <div class="feature-card">
          <i class="fas fa-microphone-alt"></i>
          <h3>Premium Voices</h3>
          <p>Prioritizes high-quality voices from Google, Microsoft, and others</p>
        </div>
      </div>

      <!-- Voice Information -->
      <div class="demo-section">
        <h3 style="color: #667eea; margin-bottom: 20px;">
          <i class="fas fa-info-circle"></i> Available Voices
        </h3>

        <div id="voiceList" class="voice-list">
          <div class="voice-item">
            <div class="voice-name">Loading voices...</div>
            <div class="voice-lang">Please wait</div>
          </div>
        </div>
      </div>

      <!-- UI Features -->
      <div class="demo-section">
        <h3 style="color: #667eea; margin-bottom: 20px;">
          <i class="fas fa-palette"></i> UI Improvements
        </h3>

        <div class="feature-grid">
          <div class="feature-card">
            <i class="fas fa-paint-brush"></i>
            <h3>Modern Design</h3>
            <p>Beautiful gradient backgrounds with floating elements</p>
          </div>

          <div class="feature-card">
            <i class="fas fa-mobile-alt"></i>
            <h3>Responsive Layout</h3>
            <p>Optimized for all devices with smooth animations</p>
          </div>

          <div class="feature-card">
            <i class="fas fa-eye"></i>
            <h3>Visual Feedback</h3>
            <p>Clear status indicators and interactive elements</p>
          </div>

          <div class="feature-card">
            <i class="fas fa-rocket"></i>
            <h3>Performance</h3>
            <p>Fast, smooth interactions with optimized code</p>
          </div>
        </div>
      </div>

      <!-- Back to Main -->
      <div style="text-align: center; margin-top: 40px;">
        <a href="/" class="primary-btn" style="text-decoration: none; display: inline-flex;">
          <i class="fas fa-arrow-left"></i>
          <span>Back to Main App</span>
        </a>
      </div>
    </div>
  </div>

  <script>
    let speechSynthesis = window.speechSynthesis;
    let selectedVoice = null;

    function initializeVoice() {
      if (speechSynthesis.getVoices().length > 0) {
        setupVoice();
      } else {
        speechSynthesis.addEventListener('voiceschanged', setupVoice);
      }
    }

    function setupVoice() {
      const voices = speechSynthesis.getVoices();
      selectedVoice = findBestVoice(voices);
      displayVoices(voices);
    }

    function findBestVoice(voices) {
      const voicePreferences = [
        { pattern: /google/i, priority: 10 },
        { pattern: /microsoft/i, priority: 9 },
        { pattern: /samantha/i, priority: 8 },
        { pattern: /alex/i, priority: 7 },
        { pattern: /david/i, priority: 6 },
        { pattern: /en-in/i, priority: 5 },
        { pattern: /indian/i, priority: 4 },
        { pattern: /male/i, priority: 3 },
        { pattern: /en-/i, priority: 2 }
      ];

      let bestVoice = null;
      let bestScore = -1;

      for (const voice of voices) {
        if (!voice.lang.startsWith('en')) continue;

        let score = 0;
        for (const pref of voicePreferences) {
          if (pref.pattern.test(voice.name) || pref.pattern.test(voice.lang)) {
            score = Math.max(score, pref.priority);
          }
        }

        if (score > bestScore) {
          bestScore = score;
          bestVoice = voice;
        }
      }

      return bestVoice || voices.find(v => v.lang.startsWith('en')) || voices[0];
    }

    function displayVoices(voices) {
      const voiceList = document.getElementById('voiceList');
      const englishVoices = voices.filter(v => v.lang.startsWith('en'));

      voiceList.innerHTML = englishVoices.map(voice => `
        <div class="voice-item ${voice === selectedVoice ? 'selected' : ''}">
          <div class="voice-name">${voice.name}</div>
          <div class="voice-lang">${voice.lang} ${voice === selectedVoice ? '‚≠ê' : ''}</div>
        </div>
      `).join('');
    }

    function testVoice(text) {
      speechSynthesis.cancel();

      const utterance = new SpeechSynthesisUtterance(text);
      utterance.voice = selectedVoice;
      utterance.rate = 0.85;
      utterance.pitch = 0.9;
      utterance.volume = 1;

      // Add natural pauses
      utterance.text = addNaturalPauses(text);

      speechSynthesis.speak(utterance);
    }

    function addNaturalPauses(text) {
      return text
        .replace(/([.!?])\s+/g, '$1... ')
        .replace(/([,;:])\s+/g, '$1... ')
        .replace(/\s+and\s+/gi, '... and... ')
        .replace(/\s+but\s+/gi, '... but... ')
        .replace(/\s+so\s+/gi, '... so... ')
        .replace(/\s+really\s+/gi, '... really... ')
        .replace(/\s+actually\s+/gi, '... actually... ')
        .replace(/\s+basically\s+/gi, '... basically... ')
        .replace(/\s+you\s+know\s+/gi, '... you know... ')
        .replace(/\s+i\s+mean\s+/gi, '... I mean... ')
        .replace(/\s+well\s+/gi, '... well... ')
        .replace(/\.{3,}/g, '...')
        .replace(/\s{2,}/g, ' ');
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', initializeVoice);
  </script>
</body>

</html>